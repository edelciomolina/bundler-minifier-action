name: "Bundler Minifier Action"
description: "A Github Action that works like Bundler Minifier into Visual Studio."
branding:
    icon: package
    color: blue
inputs:
    working_directory:
        description: "Working Directory (Default: ./)"
        default: "./"
        required: false

    bundle_config_folder:
        description: "Path for bundleconfig (Default: ./test)"
        default: "./test"
        required: false

    create_bundle_config:
        description: "Use search_extensions inputs to search and create a bindleconfig.json automatically (Default: true)"
        default: "true"
        required: false

    search_extensions:
        description: "Which files will be minified (Default: js|css|html)"
        default: "js|css|html"
        required: false

    delete_input_files:
        description: "Delete inputFiles from source project (Default: true)"
        default: "true"
        required: false

runs:
    using: "composite"
    steps:
        - name: Checkout
          uses: actions/checkout@v4
          with:
              ref: main

        - name: NPM Install Dependencies
          shell: bash
          run: |
              echo "ðŸ’  You are here: $(pwd)";
              ls;
              echo "xxxx";
              cd ..; ls;
              echo "xxxx";
              npm install;

        - name: Run Bundler Minifier Action
          shell: bash
          run: node index.js;
